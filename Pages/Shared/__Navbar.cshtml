@inject IHttpContextAccessor HttpContextAccessor

@{
    var currentCshtmlName = ViewData["CshtmlName"]?.ToString() ?? string.Empty;
    var selectedCategory = ViewData["SelectedCategory"]?.ToString();
    var user = HttpContextAccessor.HttpContext?.User;
    bool isAdmin = user?.Identity?.IsAuthenticated == true && user.IsInRole("Admin");
}

<div class="container-fluid p-0">
<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-5 py-3 py-lg-0 fixed-top shadow-sm">
        <a asp-area="" asp-page="/Index"
           class="navbar-brand d-flex align-items-center gap-2 py-0 flex-wrap">

            <img src="~/logo.png" alt="HACT Logo" class="brand-logo"
                 style="height: 80px; width: auto;">

            <span class="fw-bold text-uppercase"
                  style="font-size: 0.95rem; letter-spacing: 0.8px; color: #000;">
                HELLENIC AMERICAN CHAMBER OF TOURISM
            </span>
        </a>

        <style>
            @@media (max-width: 768px) {
                .navbar-brand span

            {
                font-size: 0.8rem !important;
                text-align: left;
            }

            .navbar-brand img {
                height: 40px !important;
            }

            }</style>






        <button id="navbarToggler" class="navbar-toggler" type="button" aria-label="Toggle navigation">
            <span class="fa fa-bars"></span>
        </button>





        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ms-auto py-0">
                <li class="nav-item">
                    <a asp-page="/Index" class="nav-link @(currentCshtmlName.Equals("") ? "active" : "")">Home</a>
                </li>
                <li class="nav-item">
                    <a asp-page="/About" class="nav-link @(currentCshtmlName.Equals("About") ? "active" : "")">About</a>
                </li>
                <li class="nav-item">
                    <a asp-page="/Services" class="nav-link @(currentCshtmlName.Equals("Services") ? "active" : "")">Services</a>
                </li>

                @* News item: dropdown ΜΟΝΟ όταν είμαστε στη σελίδα News *@

                    <li class="nav-item">
                        <a asp-page="/News" class="nav-link @(currentCshtmlName.Equals("News") ? "active" : "")">News</a>
                    </li>
                

                <li class="nav-item">
                    <a asp-page="/Contact" class="nav-link @(currentCshtmlName.Equals("Contact") ? "active" : "")">Contact</a>
                </li>

                @if (isAdmin)
                {
                    <li class="nav-item">
                        <a asp-page="/Admin/AddNew" class="nav-link @(currentCshtmlName == "AddNew" ? "active" : "")">➕ Add New</a>
                    </li>

                    <li class="nav-item">
                        <form method="post" asp-page="/Admin/Logout" class="d-inline">
                            <button type="submit" class="btn nav-link text-danger px-2" title="Logout">
                                <i class="fas fa-sign-out-alt"></i>
                            </button>
                        </form>
                    </li>

                }
            </ul>
        </div>
    </nav>

    @if (string.IsNullOrEmpty(currentCshtmlName))
    {
        @await Html.PartialAsync("__Hero")
    }
    else
    {
        @await Html.PartialAsync("__Header")
    }
</div>
