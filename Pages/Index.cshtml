@page
@model HACT.Pages.IndexModel
@{
    ViewData["Title"] = "Home page";
}

@await Html.PartialAsync("__Quote")

<!-- ========= Latest Articles ========= -->
<section class="my-5 nav-outside">
    <div class="container">
        <div class="text-center mb-5">
            <h5 class="fw-bold text-primary text-uppercase tracking-wider">Latest Articles</h5>
        </div>

        <div class="swiper" id="articlesSwiper">
            <div class="swiper-wrapper">
                @foreach (var article in Model.LatestArticles)
                {
                    <div class="swiper-slide">
                        <div class="rounded-4 overflow-hidden h-100 shadow-sm" style="background:#f0f2f5;">
                            <div class="position-relative overflow-hidden">
                                <img src="@article.ImageUrl"
                                     alt="@article.Title"
                                     class="card-img-top card-img-zoom" />
                                <div class="card-gradient-overlay"></div>
                                <div class="card-overlay-text">
                                    <span class="small">
                                        <i class="bi bi-calendar3"></i>
                                        @article.DatePosted.ToString("MMM dd, yyyy", System.Globalization.CultureInfo.InvariantCulture)
                                    </span>
                                </div>
                            </div>
                            <div class="p-4 d-flex flex-column">
                                <h5 class="fw-bold mb-2" style="color:#0b2343;">@article.Title</h5>
                                <p class="flex-grow-1" style="color:#334155;">
                                    @(article.Content.Length > 100 ? article.Content.Substring(0, 100) + "..." : article.Content)
                                </p>
                                <a asp-page="/NewsDetail"
                                   asp-route-id="@article.Id"
                                   class="btn btn-outline-primary btn-sm mt-2 align-self-start rounded-pill px-4">
                                    🔍 Read More
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <div class="swiper-pagination mt-3"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
    </div>
</section>


<!-- ========= Latest Events ========= -->
<section class="my-5 nav-outside">
    <div class="container">
        <div class="text-center mb-5">
            <h5 class="fw-bold text-primary text-uppercase tracking-wider">Latest Events</h5>
        </div>

        <div class="swiper" id="eventsSwiper">
            <div class="swiper-wrapper">
                @foreach (var ev in Model.LatestEvents)
                {
                    <div class="swiper-slide">
                        <div class="rounded-4 overflow-hidden h-100 shadow-sm" style="background:#f0f2f5;">
                            <div class="position-relative overflow-hidden">
                                <img src="@ev.ImageUrl"
                                     alt="@ev.Title"
                                     class="card-img-top card-img-zoom" />
                                <div class="card-gradient-overlay"></div>
                                <div class="card-overlay-text">
                                    <span class="small">
                                        <i class="bi bi-calendar3"></i>
                                        @ev.DatePosted.ToString("MMM dd, yyyy", System.Globalization.CultureInfo.InvariantCulture)
                                    </span>
                                </div>
                            </div>
                            <div class="p-4 d-flex flex-column">
                                <h5 class="fw-bold mb-2" style="color:#0b2343;">@ev.Title</h5>
                                <p class="flex-grow-1" style="color:#334155;">
                                    @(ev.Content.Length > 100 ? ev.Content.Substring(0, 100) + "..." : ev.Content)
                                </p>
                                <a asp-page="/NewsDetail"
                                   asp-route-id="@ev.Id"
                                   class="btn btn-outline-primary btn-sm mt-2 align-self-start rounded-pill px-4">
                                    🔍 Read More
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <div class="swiper-pagination mt-3"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
    </div>
</section>

<style>
    /* --- Swiper Layout --- */
    .swiper {
        width: 100%;
        padding-bottom: 40px;
        overflow: visible;
    }

    .swiper-slide {
        width: 320px !important;
    }

    /* --- Card styling --- */
    .card-img-zoom {
        height: 230px;
        width: 100%;
        object-fit: cover;
        transition: transform .6s ease;
    }

    .rounded-4:hover .card-img-zoom {
        transform: scale(1.05);
    }

    .card-gradient-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 80px;
        background: linear-gradient(to top, rgba(0,0,0,0.55), transparent);
    }

    .card-overlay-text {
        position: absolute;
        bottom: 10px;
        left: 14px;
        color: #fff;
        font-size: 0.85rem;
        z-index: 2;
    }

    /* --- Button --- */
    .btn-outline-primary {
        border: 1px solid #0b2343 !important;
        color: #0b2343 !important;
        transition: all .3s ease;
        font-weight: 500;
    }

        .btn-outline-primary:hover {
            background-color: #0b2343 !important;
            color: #fff !important;
        }

    /* --- Swiper arrows & pagination --- */
    .swiper-button-prev, .swiper-button-next {
        color: #0b2343;
        opacity: 0.8;
    }

        .swiper-button-prev:hover, .swiper-button-next:hover {
            opacity: 1;
        }

    .swiper-pagination-bullet-active {
        background: #0b2343;
    }
</style>
